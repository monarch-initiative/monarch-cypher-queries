ON CREATE SET edge.sources = 
  CASE
    WHEN NOT (sources IS NULL)
      THEN sources
  END
ON CREATE SET edge.evidence = 
  CASE
    WHEN NOT (evidence IS NULL)
      THEN evidence
  END
ON MATCH SET edge.sources = 
  CASE
    WHEN (EXISTS (edge.sources) AND NOT (sources IS NULL))
      THEN edge.sources + FILTER(src in sources WHERE NOT src IN edge.sources)
    WHEN (NOT EXISTS (edge.sources) AND NOT (sources IS NULL))
      THEN sources
    WHEN (EXISTS (edge.sources))
      THEN edge.sources
  END
ON MATCH SET edge.evidence = 
  CASE
    WHEN (EXISTS (edge.evidence) AND NOT (evidence IS NULL))
      THEN edge.evidence + FILTER(ev in evidence WHERE NOT ev IN edge.evidence)
    WHEN (NOT EXISTS (edge.evidence) AND NOT (evidence IS NULL))
      THEN evidence
    WHEN (EXISTS (edge.evidence))
      THEN edge.evidence
  END
